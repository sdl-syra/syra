<!DOCTYPE html>
<html>
	<head>
		<title>Syra</title>
		<%= stylesheet_link_tag    "application" %>
		<link rel="stylesheet" href="../../assets/bootstrap.css">
		<!-- <link href="jumbotron.css" rel="stylesheet">-->
		<!-- Custom Google Web Font -->
		<link href="../../assets/font-awesome.min.css" rel="stylesheet">
		<link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>

		<!-- Add custom CSS here -->
		<link href="../../assets/landing-page.css" rel="stylesheet">
		<%= javascript_include_tag "application" %>
		<%= javascript_include_tag "https://apis.google.com/js/plusone.js" %>
		<link rel="stylesheet" href="../../assets/bootstrap.min.js">
		<%= csrf_meta_tags %>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="">
    <meta name="author" content="">


 <!-- <link rel="stylesheet" href="../../assets/map/base/jquery.ui.all.css">
 <link rel="stylesheet" href="../../assets/map/demo.css"> -->
  <script src="http://maps.google.com/maps/api/js?sensor=false"></script>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
  <script src="../../assets/jquery.ui.addresspicker.js"></script>
  <script>
  $(function() {
    var addresspicker = $( "#addresspicker" ).addresspicker({
      componentsFilter: 'country:FR'
    });
    var addresspickerMap = $( "#addresspicker_map" ).addresspicker({
      regionBias: "fr",
      updateCallback: showCallback,
      mapOptions: {
        zoom: 4,
        center: new google.maps.LatLng(46, 2),
        scrollwheel: false,
        mapTypeId: google.maps.MapTypeId.ROADMAP
      },
      elements: {
        map:      "#map",
        lat:      "#service_address_y",
        lng:      "#service_address_x",
        street_number: '#street_number',
        route: '#route',
        locality: '#locality',
        administrative_area_level_2: '#administrative_area_level_2',
        administrative_area_level_1: '#administrative_area_level_1',
        country:  '#country',
        postal_code: '#postal_code',
        type:    '#type'
      }
    });

    var gmarker = addresspickerMap.addresspicker( "marker");
    gmarker.setVisible(true);
    addresspickerMap.addresspicker( "updatePosition");

    $('#reverseGeocode').change(function(){
      $("#addresspicker_map").addresspicker("option", "reverseGeocode", ($(this).val() === 'true'));
    });

    function showCallback(geocodeResult, parsedGeocodeResult){
      $('#callback_result').text(JSON.stringify(parsedGeocodeResult, null, 4));
    }
    // Update zoom field
    var map = $("#addresspicker_map").addresspicker("map");
    google.maps.event.addListener(map, 'idle', function(){
      $('#zoom').val(map.getZoom());
    });

  });
  </script>




	</head>

	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#"><strong>Syra</strong> <em>beta</em></a>
			</div>

			<% if signed_in? then %>
			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse navbar-right navbar-ex1-collapse">
				<ul class="nav navbar-nav">
					<!--<li><a href="#about">About</a>
					</li>-->
					<li>
						<a href="#services">Connecté en tant que <%= current_user.name %> <%= current_user.lastName %></a>
					</li>
					<li>
						<%= link_to "Déconnexion", signout_path, :method => :delete %>
					</li>
				</ul>
			</div>

			<% else %>
			<div class="collapse navbar-collapse navbar-right navbar-ex1-collapse">
				<ul class="nav navbar-nav">
					<!--<li><a href="#about">About</a>
					</li>-->
					<li>
						<%= link_to "Se connecter" , signin_path, :id => "button_id" %>
					</li>
					<li>
						<%= link_to "S'inscrire" , signup_path, :id => "button_id" %>
					</li>
				</ul>
			</div>
			<% end %>

			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container -->
	</nav>

	<%= yield %>

